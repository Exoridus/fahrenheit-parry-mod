<Project>
    <!--
    Welcome to an example .csproj file for a Fahrenheit module!

    When in doubt, you can consult this to see what options need to be set and why.

    Assume that the order in which these groups appear is intentional. When preparing your own project, use the same order.
    -->

    <!-- ASSEMBLY BASIC PROPERTIES -->
    <!--
    All projects should declare these properties.

    TargetFramework MUST match that of every other project and the Fahrenheit version you are linking against.
    PlatformTarget MUST be x86.
    EnableDynamicLoading MUST be true.

    The rest of the options are highly recommended, but strictly speaking not mandatory.
    -->
    <PropertyGroup>
        <TargetFramework>net10.0</TargetFramework>
        <ImplicitUsings>disable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
        <RuntimeIdentifier>win-x86</RuntimeIdentifier>
        <EnableDynamicLoading>true</EnableDynamicLoading>
    </PropertyGroup>

    <!-- ASSEMBLY ADDITIONAL PROPERTIES -->
    <!--
    These properties are unique to your own mod!

    Set what you want here, just keep it brief so it appears nice on the finished artifact.

    AssemblyName is the name of the finished module DLL, ex. `fhparry.dll`.
    AssemblyTitle and Product appear when hovering over the DLL in Windows Explorer.
    -->
    <PropertyGroup>
        <AssemblyName>fhparry</AssemblyName>
        <AssemblyTitle>Parry Mod</AssemblyTitle>
        <Product>Parry Mod</Product>
    </PropertyGroup>

    <!-- SOURCE LAYOUT SUPPORT -->
    <!--
    The mod can be built from either:
    - this standalone repo root with Fahrenheit checked out under .workspace/fahrenheit, or
    - Fahrenheit's in-tree mods/parry path.
    -->
    <PropertyGroup>
        <FahrenheitRootDir Condition="Exists('$(MSBuildThisFileDirectory)..\..\core\fh\Fahrenheit.csproj')">$(MSBuildThisFileDirectory)..\..\</FahrenheitRootDir>
        <FahrenheitRootDir Condition="'$(FahrenheitRootDir)' == '' and Exists('$(MSBuildThisFileDirectory).workspace\fahrenheit\core\fh\Fahrenheit.csproj')">$(MSBuildThisFileDirectory).workspace\fahrenheit\</FahrenheitRootDir>
    </PropertyGroup>

    <!-- SDK REFERENCES -->
    <!--
    This should be included exactly as-is.
    -->
    <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
    <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />

    <!-- SHARED FILE LINKS -->
    <!--
    This should be included exactly as-is.

    This imports Fahrenheit's code style rules to allow you to write in a uniform way.
    -->
    <ItemGroup>
        <None Include="$(SolutionDir).editorconfig" Link=".editorconfig" Condition="'$(SolutionDir)' != '' and Exists('$(SolutionDir).editorconfig')" />
    </ItemGroup>

    <!-- PROJECT REFERENCES -->
    <!--
    This should be included exactly as-is.

    This imports Fahrenheit's core library, which you must link against.
    You're free to import other libraries as well using NuGet packages, which will automatically add to this group.

    Project references MUST have Private set to "false" and ExcludeAssets set to "runtime;native".
    -->
    <ItemGroup>
        <ProjectReference Include="$(FahrenheitRootDir)core\fh\Fahrenheit.csproj">
            <Private>false</Private>
            <ExcludeAssets>runtime;native</ExcludeAssets>
        </ProjectReference>
    </ItemGroup>

    <!-- REPO TOOLING EXCLUDES -->
    <ItemGroup>
        <Compile Remove=".workspace/**" />
        <Compile Remove="build/**" />
    </ItemGroup>

    <!-- ASSETS: MANIFEST -->
    <ItemGroup>
        <None Include="$(AssemblyName).manifest.json" CopyToOutputDirectory="Always" />
    </ItemGroup>

    <!-- ASSETS: LOCALIZATION -->
    <ItemGroup>
        <None Remove="lang/**" />
        <None Include="lang/*.json" CopyToOutputDirectory="Always" />
    </ItemGroup>

    <!-- ASSETS: EXTERNAL FILE LOADER -->
    <ItemGroup>
        <None Remove="efl/**" />
        <None Include="efl/x/**/*;efl/x2/**/*" CopyToOutputDirectory="Always" />
    </ItemGroup>

    <!-- ASSETS: GENERIC -->
    <ItemGroup>
        <None Include="resources/**" CopyToOutputDirectory="Always" />
    </ItemGroup>

</Project>
